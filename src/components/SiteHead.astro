---
import {
        TAG_MANAGER_ID,
        SITE_BASE_PATH,
        SITE_FAVICON,
        SITE_FAVICON_TYPE} from '../SETTINGS.mjs';
import externalStyles from '../EXTERNAL_STYLES.mjs';
import externalScripts from '../EXTERNAL_SCRIPTS.mjs';
import SEO from './SEO.astro';
import TagManagerHead from './TagManagerHead.astro';
import SiteStyles from "./SiteStyles.astro";
import SiteScripts from "./SiteScripts.astro";

const {title, keywords, description, author, canonical, base=""} = Astro.props;
const criticalStyles = ``;
const criticalScripts = ``;
---
<head>
  {TAG_MANAGER_ID ? <TagManagerHead tmid="{TAG_MANAGER_ID}" /> : ''}
  <SEO
    title={title}
    description={description}
    canonical={canonical}
  />
  <meta name="theme-color" content="#343233">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content={keywords}>
  <meta name="author" content={author}>
  <base href={`${SITE_BASE_PATH}${base}`} />
  <script>
    globalThis.addEventListener('load', () => {
      globalThis.navigator.serviceWorker.register('/service-worker.js');
    });
  </script>
  <link rel="manifest" href="/manifest.json" />
  <link rel="icon" href={SITE_FAVICON} type={SITE_FAVICON_TYPE} />
  <SiteStyles critical={criticalStyles} hrefs={externalStyles} />
  <link rel="stylesheet" href="/style/index.css"/>
  <SiteScripts critical={criticalScripts} srcs={externalScripts} />
  <link rel="apple-touch-icon" sizes="512x512" href="/images/iajh.512.png" />
  <link rel="apple-touch-icon" sizes="384x384" href="/images/iajh.384.png" />
  <link rel="apple-touch-icon" sizes="256x256" href="/images/iajh.256.png" />
  <link rel="apple-touch-icon" sizes="192x192" href="/images/iajh.192.png" />
  <link rel="apple-touch-icon" sizes="128x128" href="/images/iajh.128.png" />
</head>